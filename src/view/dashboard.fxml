<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.text.TextFlow?>
<?import javafx.scene.Cursor?>

<BorderPane stylesheets="@style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="view.DashboardController">

    <!-- Sidebar -->
   <top>
        <HBox alignment="CENTER_LEFT" spacing="10" styleClass="top-bar">
            <TextFlow>
                <Text styleClass="title-red" text="Dash" />
                <Text styleClass="title-black" text="board" />
            </TextFlow>
            <TextField fx:id="searchField" promptText="Search your task here..." styleClass="search-field" />
            <Button styleClass="icon-button" text="ðŸ”" />
            <Button styleClass="icon-button" text="ðŸ“…" />
            <Button styleClass="icon-button" text="ðŸ””" />
            <VBox>
                <Label fx:id="dayLabel" styleClass="day-label" />
                <Label fx:id="dateLabel" styleClass="date-label" />
                 <VBox>
        <Label fx:id="dayLabel" styleClass="day-label" />
    </VBox>
            </VBox>
        </HBox>
    </top>

    <!-- Barre latÃ©rale (Menu) -->
    <left>
        <VBox spacing="15" styleClass="sidebar">
            <Label fx:id="userNameLabel" styleClass="user-name" text="Sundar Gurung" />
            <Label fx:id="userEmailLabel" styleClass="user-email" text="sundargurung360@gmail.com" />

            <Button styleClass="sidebar-button" text="ðŸ  Dashboard" onAction="#showDashboard">
                <cursor>
                    <Cursor fx:constant="HAND" />
                </cursor>
            </Button>
            <Button styleClass="sidebar-button" text="âš¡ Vital Task">
                <cursor>
                    <Cursor fx:constant="HAND" />
                </cursor>
            </Button>
            <Button styleClass="sidebar-button" text="ðŸ“ My Task">
                <cursor>
                    <Cursor fx:constant="HAND" />
                </cursor>
            </Button>
            <Button styleClass="sidebar-button" text="ðŸ“‚ Task Categories" onAction="#showTaskCategories">
                <cursor>
                    <Cursor fx:constant="HAND" />
                </cursor>
            </Button>
            <Button styleClass="sidebar-button" text="âš™ Settings" onAction="#openSettings">
                <cursor>
                    <Cursor fx:constant="HAND" />
                </cursor>
            </Button>
            <Button styleClass="sidebar-button" text="â“ Help">
                <cursor>
                    <Cursor fx:constant="HAND" />
                </cursor>
            </Button>
            <Button styleClass="logout-button" text="ðŸšª Logout" onAction="#handleLogout">
                <cursor>
                    <Cursor fx:constant="HAND" />
                </cursor>
            </Button>
        </VBox>
    </left>

    <!-- Main Content -->
    <center>
        <VBox spacing="15" styleClass="main-content">
            <HBox spacing="250">
    <!-- Welcome Ã  gauche -->
    <Label styleClass="welcome-text" text="Welcome Back, Sundar ðŸ‘‹" />
    
    <!-- Permet d'Ã©carter les Ã©lÃ©ments -->
    <Region />
    
    <!-- Bouton + Invite Ã  droite -->
    <Button fx:id="inviteButton" styleClass="invite-button" text="Invite+" onAction="#handleInviteButton" />
</HBox>
            
            

            <HBox spacing="20">
    <!-- To-Do List -->
    <!-- To-Do List -->
    <VBox fx:id="toDoListContainer" styleClass="task-list">
       <HBox spacing="25">  <!-- Augmenter le spacing ici -->
    <Label styleClass="section-title" text="ðŸ“Œ To-Do List" />
    <Region />
    <Button fx:id="addTaskButton" onAction="#afficheNewTask" styleClass="add-task-button" text="+ Add Task" />
</HBox>

        <ScrollPane fitToHeight="false" fitToWidth="true" styleClass="task-scrollpane">
    <VBox fx:id="taskContainer" prefHeight="400" spacing="10" />
</ScrollPane>

    </VBox>
    
    <!-- Task Status & Completed Task -->
    <VBox fx:id="taskStatusContainer">
        <VBox styleClass="task-status">
            <Label styleClass="section-title" text="ðŸ“Š Task Status" />
            <PieChart fx:id="taskStatusChart" styleClass="task-chart" />
        </VBox>

        <VBox styleClass="completed-task">
            <Label styleClass="section-title" text="âœ… Completed Task" />
            <VBox fx:id="completedTaskContainer" spacing="10" />
        </VBox>
    </VBox>
</HBox>
            
        </VBox>
    </center>

</BorderPane>
